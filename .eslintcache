[{"D:\\My Project\\bloodbank-admin\\src\\index.js":"1","D:\\My Project\\bloodbank-admin\\src\\components\\App.js":"2","D:\\My Project\\bloodbank-admin\\src\\components\\login\\login.js":"3","D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\copyright.js":"4","D:\\My Project\\bloodbank-admin\\src\\routes\\history.js":"5","D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\header.js":"6","D:\\My Project\\bloodbank-admin\\src\\store.js":"7","D:\\My Project\\bloodbank-admin\\src\\reducers\\allReducers.js":"8","D:\\My Project\\bloodbank-admin\\src\\reducers\\loginReducer.js":"9","D:\\My Project\\bloodbank-admin\\src\\actions\\actionTypes.js":"10","D:\\My Project\\bloodbank-admin\\src\\actions\\loginAction.js":"11","D:\\My Project\\bloodbank-admin\\src\\url\\apiUrl.js":"12","D:\\My Project\\bloodbank-admin\\src\\reducers\\getAllUserReducer.js":"13","D:\\My Project\\bloodbank-admin\\src\\actions\\allUsersAction.js":"14","D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\basicTable.js":"15","D:\\My Project\\bloodbank-admin\\src\\components\\users\\users.js":"16","D:\\My Project\\bloodbank-admin\\src\\reducers\\verifyTokenReducer.js":"17","D:\\My Project\\bloodbank-admin\\src\\actions\\verifyTokenAction.js":"18","D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\alert.js":"19"},{"size":346,"mtime":1607775847098,"results":"20","hashOfConfig":"21"},{"size":556,"mtime":1608025066568,"results":"22","hashOfConfig":"21"},{"size":7764,"mtime":1608113680182,"results":"23","hashOfConfig":"21"},{"size":464,"mtime":1607673858052,"results":"24","hashOfConfig":"21"},{"size":86,"mtime":1608021437237,"results":"25","hashOfConfig":"21"},{"size":4253,"mtime":1608017895199,"results":"26","hashOfConfig":"21"},{"size":244,"mtime":1607707715111,"results":"27","hashOfConfig":"21"},{"size":316,"mtime":1608107030058,"results":"28","hashOfConfig":"21"},{"size":480,"mtime":1607710316789,"results":"29","hashOfConfig":"21"},{"size":624,"mtime":1608106239634,"results":"30","hashOfConfig":"21"},{"size":1597,"mtime":1608020053583,"results":"31","hashOfConfig":"21"},{"size":893,"mtime":1608115540555,"results":"32","hashOfConfig":"21"},{"size":660,"mtime":1607767051481,"results":"33","hashOfConfig":"21"},{"size":1280,"mtime":1607772376155,"results":"34","hashOfConfig":"21"},{"size":11109,"mtime":1608122034837,"results":"35","hashOfConfig":"21"},{"size":428,"mtime":1607854939302,"results":"36","hashOfConfig":"21"},{"size":655,"mtime":1608107069657,"results":"37","hashOfConfig":"21"},{"size":1443,"mtime":1608112047620,"results":"38","hashOfConfig":"21"},{"size":2785,"mtime":1608121606637,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1fgsj72",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\My Project\\bloodbank-admin\\src\\index.js",[],["80","81"],"D:\\My Project\\bloodbank-admin\\src\\components\\App.js",[],"D:\\My Project\\bloodbank-admin\\src\\components\\login\\login.js",["82","83"],"import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { useHistory } from \"react-router\";\r\nimport '../../index.css'\r\nimport {\r\n    Avatar, Button,\r\n    CssBaseline,\r\n    TextField,\r\n    Link,\r\n    Grid,\r\n    Box,\r\n    Typography,\r\n    Container\r\n} from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Copyright from '../sharedComponents/copyright'\r\nimport { LoginAction } from '../../actions/loginAction';\r\nimport { verifyTokenAction } from '../../actions/verifyTokenAction';\r\n\r\n\r\n\r\nconst token = localStorage.getItem('token')\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n        outlineColor: 'black'\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        border: '2px solid black',\r\n        backgroundColor: 'white',\r\n        color: 'black',\r\n        fontSize: '17px'\r\n    },\r\n    error: {\r\n        fontSize: '15px',\r\n        color: 'red',\r\n    }\r\n}));\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    // useEffect(() => {\r\n    //     verifyToken()\r\n    //     return () => {\r\n    //         verifyToken()\r\n    //     }\r\n    // }, [])\r\n\r\n    const history = useHistory();\r\n    const verifyToken = () => {\r\n        if (token) {\r\n            console.log('token',token)\r\n            props.verifyTokenAction(token, response => {\r\n                if (response.error === true) {\r\n                    localStorage.removeItem('token')\r\n                    localStorage.removeItem('image')\r\n                    localStorage.removeItem('profile_id')\r\n                    console.log('error true response', response)\r\n                    history.push('/')\r\n                }\r\n                else if (response.error === false) {\r\n                    this.props.verified = response.data\r\n                    console.log('error false response', response)\r\n                    history.push('/users')\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            history.push('/')\r\n        }\r\n    }\r\n    // const [state, dispatch] = useReducer(LoginAction)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [emailError, setEmailError] = useState({})\r\n    const [passwordError, setPasswordError] = useState({})\r\n\r\n    const loginUser = async (event) => {\r\n        try {\r\n            event.preventDefault();\r\n            const isValid = await validateInput()\r\n            if (isValid === true) {\r\n                let formData = { email: email, password: password }\r\n                props.LoginAction(formData, response => {\r\n                    if (response) {\r\n                        if (response.error === false) {\r\n                            history.push('/users')\r\n                        }\r\n                        else {\r\n                            alert(response.message)\r\n                        }\r\n                    }\r\n                    else {\r\n                        alert('Something went wrong')\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                alert('Unable to validate user')\r\n            }\r\n        }\r\n        catch (error) {\r\n            alert(error)\r\n        }\r\n    }\r\n\r\n    const validateInput = async () => {\r\n        let isValid = true;\r\n        const emailError = {}\r\n        const passwordError = {}\r\n\r\n        if (email === '') {\r\n            emailError.empty = 'Email is empty';\r\n            isValid = false\r\n        }\r\n        if (!email.includes('@')) {\r\n            emailError.valid = 'Not a valid email'\r\n            isValid = false\r\n        }\r\n        if (password === '') {\r\n            passwordError.empty = 'Password is empty'\r\n            isValid = false\r\n        }\r\n        setPasswordError(passwordError)\r\n        setEmailError(emailError)\r\n        return isValid;\r\n\r\n    }\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n          </Typography>\r\n                <form className={classes.form} validate>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email Address\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        value={email}\r\n                        onChange={(e) => { setEmail(e.target.value) }}\r\n                    />\r\n                    {Object.keys(emailError).map((key) => {\r\n                        return key && key ? <Typography component=\"h6\" variant=\"h6\" className={classes.error}>\r\n                            {emailError[key]}\r\n                        </Typography> : null\r\n                    })}\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        value={password}\r\n                        onChange={(e) => { setPassword(e.target.value) }}\r\n                    />\r\n                    {Object.keys(passwordError).map((key) => {\r\n                        return key && key ? <Typography component=\"h6\" variant=\"h6\" className={classes.error}>\r\n                            {passwordError[key]}\r\n                        </Typography> : null\r\n\r\n                    })}\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        className={classes.submit}\r\n                        onClick={loginUser}>\r\n                        Sign In\r\n                     </Button>\r\n                    <Grid container>\r\n                        <Grid item xs>\r\n                            <Link href=\"#\" variant=\"body2\">\r\n                                Forgot password?\r\n                     </Link>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Link href=\"#\" variant=\"body2\">\r\n                                {\"Don't have an account? Sign Up\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n            <Box mt={8}>\r\n                <Copyright />\r\n            </Box>\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { currentUser } = state.loginReducer;\r\n    const { verified } = state.tokenReducer;\r\n    return {\r\n        currentUser,\r\n        verified\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ LoginAction, verifyTokenAction }, dispatch);\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n\r\n","D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\copyright.js",[],"D:\\My Project\\bloodbank-admin\\src\\routes\\history.js",[],"D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\header.js",[],"D:\\My Project\\bloodbank-admin\\src\\store.js",[],"D:\\My Project\\bloodbank-admin\\src\\reducers\\allReducers.js",[],"D:\\My Project\\bloodbank-admin\\src\\reducers\\loginReducer.js",[],"D:\\My Project\\bloodbank-admin\\src\\actions\\actionTypes.js",[],"D:\\My Project\\bloodbank-admin\\src\\actions\\loginAction.js",[],"D:\\My Project\\bloodbank-admin\\src\\url\\apiUrl.js",[],"D:\\My Project\\bloodbank-admin\\src\\reducers\\getAllUserReducer.js",[],"D:\\My Project\\bloodbank-admin\\src\\actions\\allUsersAction.js",[],"D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\basicTable.js",["84"],"D:\\My Project\\bloodbank-admin\\src\\components\\users\\users.js",[],"D:\\My Project\\bloodbank-admin\\src\\reducers\\verifyTokenReducer.js",[],"D:\\My Project\\bloodbank-admin\\src\\actions\\verifyTokenAction.js",[],"D:\\My Project\\bloodbank-admin\\src\\components\\sharedComponents\\alert.js",[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":1,"column":27,"nodeType":"91","messageId":"92","endLine":1,"endColumn":36},{"ruleId":"89","severity":1,"message":"93","line":65,"column":11,"nodeType":"91","messageId":"92","endLine":65,"endColumn":22},{"ruleId":"89","severity":1,"message":"94","line":194,"column":17,"nodeType":"91","messageId":"92","endLine":194,"endColumn":24},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'verifyToken' is assigned a value but never used.","'waiting' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]